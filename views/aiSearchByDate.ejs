<%- include partials/header %>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
       <style type="text/css">
       
           li.nav-item.sidebars.active {
             background: #b7b9cc;
             color: white;
           }
           li.nav-item.sidebars {
               color: white;
               background: #b7b9cc;
           }
           
           </style>
           
           
           </head>
           
           <div class="container" style="margin-top: -30px;">
           <section class="section-content py-3">
             <div class="row">
                <aside class="col-lg-3"> 
           <!-- ============= COMPONENT ============== -->
                 <nav class="sidebar card py-2 mb-4" style="background: #b7b9cc;border: grey;margin-left: -15px;">
                   <h2 style="color: white;margin-left: 10px;">Analytics</h2> 
                   <ul class="nav flex-column" id="nav_accordion">
                   <li class="nav-item sidebars active">
                     <a class="nav-link" id="StockLinks">Stock User Searched </a>
                   </li>
                   <li class="nav-item sidebars">
                     <a class="nav-link" id="StockSearchLink"> Stock By Date </a>
                   </li>
                   <li class="nav-item sidebars">
                     <a class="nav-link" id="TipSearchLink">Mentor Tip By Date </a>
                   </li>
                   <li class="nav-item sidebars">
                     <a class="nav-link" id="AISearchLink"> AI Tip Count By Date</a>
                   </li>
                   <li class="nav-item sidebars">
                     <a class="nav-link" id="SoicalSearchLink"> Soical Chat Count By Date</a>
                   </li>
                 </ul>
                 </nav>
           <!-- ============= COMPONENT END// ============== --> 
               </aside>
    <main class="col-lg-9">
            <h4>AI Tip Count By Date</h4> 
              <div class="card-body">
                   <form autocomplete="off" class="form" role="form">
                            <div class="form-row">                        
                                <label class="col-lg-2 col-form-label form-control-label">Start Date</label>
                                <div class="col-lg-3">
                                  <input class="form-control" type="date" id="start_date" min="1997-01-01" max="2030-12-31" placeholder="yyyy-mm-dd">
                                </div>

                                 <div class="col-lg-2">
                                </div>
                              
                                 <label class="col-lg-2 col-form-label form-control-label">End Date</label>
                                <div class="col-lg-3">
                                  <input class="form-control" type="date" id="end_date" min="1997-01-01" max="2030-12-31" placeholder="yyyy-mm-dd">
                                </div>
                            </div>
                            <br>
                            <div class="form-group row">
                              <label class="col-lg-3 col-form-label form-control-label"></label>
                              <div class="col-lg-9">
                                <input class="btn btn-secondary" type="reset" value="Cancel"> 
                                <input class="btn btn-primary" type="button" value="Get Count of AI Tip" id="MentorBtnData">
                               </div>
                            </div>
                          </form>
                      <div class="h5 mb-0 font-weight-bold text-gray-800">Total Counts : <span id="countAIData">0</span></div>
               </div>


    </main>
  </div>
</section>

</div><!-- container //  -->


      </div>
      <!-- End of Main Content -->

                 <%- include partials/footer %>



    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <a class="btn btn-primary" href="/">Logout</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
<script type="text/javascript">
  $(document).ready(function () {
//change selectboxes to selectize mode to be searchable
   $("select").select2();
});
</script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.min.js"></script>
<script src="js/choosen.js"></script>

 <!-- Page level plugins -->
  <script src="vendor/datatables/jquery.dataTables.min.js"></script>
  <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

  <!-- Page level custom scripts -->
  <script src="js/demo/datatables-demo.js"></script>

  <script type="text/javascript">

    window.history.forward(); 
        function noBack() { 
            window.history.forward(); 
        } 


 </script>
     <%- include partials/commonlink %>

            
            <script type="text/javascript">
             window.addEventListener("load", function() {
             var url_string = window.location.href; 
             var urls = new URL(url_string);
             var tokens = urls.searchParams.get("tokendata");
           
                 document.getElementById("StockLinks").href = "/stocklist?tokendata="+tokens;
              document.getElementById("StockSearchLink").href = "/searchStock?tokendata="+tokens;
              document.getElementById("TipSearchLink").href = "/alltipByDate?tokendata="+tokens;
              document.getElementById("AISearchLink").href = "/aiSearchByDate?tokendata="+tokens;
           document.getElementById("SoicalSearchLink").href = "/soicalSearchByDate?tokendata="+tokens;
           });
           </script>
<script src="https://momentjs.com/downloads/moment.js"></script>

<script type="text/javascript">
  var url_string = window.location.href; 
  var urls = new URL(url_string);
  var tokens = urls.searchParams.get("tokendata");
  $('#MentorBtnData').on('click', function() {
    var startDates = $('#start_date').val();
    var finalstartdate = moment(startDates).format("YYYY-MM-DD HH:mm:ss");
    // alert(finalstartdate);
    var endDates = $('#end_date').val();
    var finalenddate = moment(endDates).format("YYYY-MM-DD HH:mm:ss");
    // alert(finalenddate);
    var formdata = {fromDate : finalstartdate , toDate : finalenddate};
    // alert(JSON.stringify(formdata));
      $.ajax({
        type: 'POST',
        url: 'https://apis.tradetipsapp.com/api/dataAnalytics/getAITipsCountByDate',
        headers: {
          Authorization: 'Bearer '+ tokens
        },
        data: formdata,
        success: function(data, textStatus, jqXHR)
        {
          $("#countAIData").text(data);
          // alert(data);
          // var datak = JSON.stringify(data);
          // var dataResultp = JSON.parse(datak); 
          // var len = dataResultp.length;
          // // alert(len);

        },

        error: function (jqXHR, textStatus, errorThrown)
        {
           $("#countAIData").text('0');
           // alert("No data");
        }


      });
  
  });


</script>

</body>

</html>
